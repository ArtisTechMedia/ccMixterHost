<?
define('CC_HOST_CMD_LINE', 1 );
chdir( dirname(__FILE__) . '/..' );
$ccmixter_home = getcwd();
$NO_EXTRANEOUS_OUTPUT = true;
require_once('cc-cmd-line.inc');

$batch1 = array(16626,22364,37792,18947,30344,26756,33345,30389,34503,46920,34402,25375);

$batch2 = array(36562,37950,46385,48787,50496,28033,35784,38351,42249,44139,
                37804,18561,37822,35987,37088,37806,38049,42577,29172,49524,
                27213,24843,37143,20959,49945,40557,31130,35761,21790,22808,
                26890,27584,29376,31832,32692,35935,38101,38113,40036,43377,
                44137,45199,45975,47616,48144,49799,50492,34447,40429,43022,
                46605,46684,48167,50502,46383,50475,50506,23549,26739,33501,
                35060,38681,39181,42318,42401,43552,43979,49330,50511,36627,
                38319,42421,36705,40379,43967,44551,46576,47944,48516,50477,
                39209,28085,35733,36043,36812,37306,37888,40483,41569,44742,
                44977,50688,48178,36280,37228,40377,35645,35951,36073,36526 );

$batch3 = array(50494,26752,27401,28792,29633,31815,34941,35594,48709,49390,
                50699,25813,22552,24774,25074,25919,27538,29371,30151,31843,
                33981,34810,48286,48970,50487,50486,50481,29215,48892,50024,
                52155,50657,48283,49417,49489,49674,50695,50529,27463,29857,
                32410,48761,49063,50488,50505,48136,49537,19072,20377,22496,
                23962,24010,28816,31736,32900,50327,50527,50563,51214,50380,
                31862,49790,22378,29135,48820,50493,23577,35087,28416,50747,
                51752,28890,49886,50478,22618,30752,31867,33530,33957,34041,
                34219,48823,48870,49404,49592,49889,50599,50901,50490,50295,
                31601,31877,33286,35484,48708,48804,50677,31668,38044,38377 );

$batch4 = array(43049,46186,46381,46550,46581,46593,46678,43950,42565,42724,
                46545,46517,43011,43104,44656,44734,45631,45949,46336,46409,
                43717,47544,45482,42998,44379,44747,44997,46429,46523,45519,
                46497,46642,47835,34983,47784,43340,44571,45251,46461,47781,
                42741,44476,46177,43072,44241,44796,47765,45495,45827,46567,
                44107,45219,46957,48862,49270,46135,46463,46658,47052,47732,
                47299,43164,48157,42694,42893,42941,43085,43212,43755,43860,
                43886,44277,44337,44502,44821,44895,45202,45426,45676,45799,
                45893,46279,46419,46613,47135,47303,47740,43141,44526,44829,
                47838,44196,44776,45095,45120,45400,45640,46578,46617,48799);

$batches = array( $batch1, $batch2, $batch3, $batch4 );

function ccPlusInitInjested()
{
    global $batches;

    $sql = "DROP TABLE IF EXISTS cc_tbl_injested;";

    CCDatabase::Query($sql);

    $sql =<<<EOF
    CREATE TABLE IF NOT EXISTS cc_tbl_injested  (
      injested_upload int(11) unsigned NOT NULL default '0',
      injested_batch int(11) unsigned NOT NULL default '0'
    ) ENGINE=MyISAM  DEFAULT CHARSET=latin1;
EOF;

    CCDatabase::Query($sql);

    for( $i = 0; $i < 4; $i++ ) {
        $batch = $batches[$i];
        $batch_no = $i + 1;
        foreach( $batch as $id ) {
        $sql =<<<EOF
            INSERT INTO cc_tbl_injested (injested_upload,injested_batch) VALUES ({$id},{$batch_no});
EOF;
        CCDatabase::Query($sql);
        }
    }
}

function perform()
{
    ccPlusInitInjested();
}

perform();

